require 'init_functionality'

require_relative '../cleanup'
require_relative '../provision'
require_relative 'aws'
require_relative 'tf'

RSpec.describe 'AWS provision [LXC]' do
    prepend_before(:all) do
        @defaults_yaml = File.realpath(
            File.join(File.dirname(__FILE__), '../../defaults.yaml')
        )
    end

    hypervisor = 'lxc'
    type       = 'virtual'
    instance   = 't2.small'
    frr_iface  = 'eth0'

    it_behaves_like 'aws_provision', hypervisor, type, instance, frr_iface
end
